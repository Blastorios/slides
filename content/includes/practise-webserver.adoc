= Simple Web Server

== Goal

* We want to host a static webserver under

== Problem

* How to tell Traefik to route requests to the web server?

```
http://traefik-demo.containous.cloud/
  -> Traefik
    -> http://<Webserver Private IP>:80/
```

== The Web Server 1/3

* Step 1: webserver files:

[source,bash]
----
$ tree ./web/
./web/
├── Dockerfile
└── data
    ├── index.html
    ├── ...
----

== The Web Server 2/3

* Step 2: web server in Compose. Check the `labels`:

[source,yaml]
----
...
services
  ...
  web:
    build: ./web/
    labels:
      - "traefik.frontend.rule=Host:traefik-demo.containous.cloud"
----

== The Web Server 3/3

* Step 3: `Dockerfile` for the web server:

[source,Dockerfile]
----
FROM nginx:stable-alpine AS webserver
COPY ./data/public /usr/share/nginx/html
----

== Launch the Web Server

[source,bash]
----
docker-compose up -d web
----

== Reality Check

link:http://traefik-demo.containous.cloud/[http://traefik-demo.containous.cloud/,window=_blank]

image::after-webserver-up.png[]

It's good: we have a web page!

== But, How?

image::magic.gif[]

Is it magic?
