
= A Glimpse on Traefik's Features

Keep It Simple

== Show me the code!

* With Docker:

[source,yaml]
----
entrypoint:
    image: traefik:v1.7
    command:
      - "--docker"
      - "--docker.domain=mycompany.org"
      - "--acme.email=ssl-admin@mycompany.org"
      - "--acme.httpChallenge.entryPoint=http"
      # Or you could use a TOML file with "--configFile=/etc/traefik/traefik.toml
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock
----

== HTTPS for Everyone with Let's Encrypt

image::lets-encrypt-http-challenge.png[Lets Encrypt HTTP Challenge, width=900]

image::lets-encrypt-dns-challenge.png[Lets Encrypt DNS Challenge, width=900]

== With Docker: Simple backend

[source,yaml]
----
# https://www.mycompany.org
webserver:
    image: nginx:alpine
    labels:
      - "traefik.frontend.rule=Host:www.mycompany.org"
----

== With Docker: Websockets

[source,yaml]
----
# https://mycompany.org/webterminal
webterminal:
    image: tsl0922/ttyd
    labels:
      - "traefik.frontend.rule=PathPrefixStrip:/webterminal"
    expose:
      - "7681"
----

== With Docker: Context

[source,yaml]
----
# http://mycompany.org/jenkins
jenkins:
    image: jenkins/jenkins:lts
    labels:
      - "traefik.frontend.rule=PathPrefix:/jenkins"
      - "traefik.port=8080" # Because 50000 is also exposed
    environment:
      - JENKINS_OPTS=--prefix=/jenkins
----

== With Docker: Rewrites

[source,yaml]
----
# http://mycompany.org/gitserver
gitserver:
    image: gitea/gitea:1.5
    labels:
      - "traefik.frontend.rule=PathPrefixStrip:/gitserver"
      - "traefik.port=3000" # Because 22 is also exposed
----

[{invert}]
== Traefik with Kubernetes

image::traefik-kubernetes-diagram.png["Traefik with Kubernetes Diagram",width=900]

[.small]
Diagram from link:https://medium.com/@geraldcroes[]


== With Kubernetes Too!

[source,yaml]
----
apiVersion: extensions/v1beta1
kind: Ingress
metadata:
  annotations:
    # kubernetes.io/ingress.class: 'nginx'
    kubernetes.io/ingress.class: 'traefik'
spec:
  rules:
  - host: mycompany.org
    http:
      paths:
      - path: "/whoami"
        backend:
          serviceName: whoami
          servicePort: 80
----

[{invert}]
== We Missed Talking About ...

image::word-cloud.png[width=900]
